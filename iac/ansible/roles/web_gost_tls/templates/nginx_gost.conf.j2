user www-data;
worker_processes auto;
pid /run/nginx.pid;

events {
    worker_connections 768;
}

http {
    sendfile on;
    tcp_nopush on;
    types_hash_max_size 2048;

    include /etc/nginx/mime.types;
    default_type application/octet-stream;

    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_prefer_server_ciphers on;
    
    # GOST Cipher Suites (Example)
    # ssl_ciphers GOST2012-GOST8912-GOST8912:GOST2001-GOST89-GOST89;
    
    server {
        listen 443 ssl;
        server_name {{ server_name | default('localhost') }};

        ssl_certificate {{ ssl_cert_path }};
        ssl_certificate_key {{ ssl_key_path }};

        location / {
            proxy_pass http://backend_app:8080;
        }
    }
}
